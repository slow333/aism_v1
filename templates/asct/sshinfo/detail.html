{% extends 'base/base.html' %}
{% block title %}명령어 리스트{% endblock %}

{% block content %}
<div class="flex-between">
    <h1 class="fw-bold text-white"><i class="bi bi-pencil-square me-2"></i>Update shhinfo</h1>
</div>
{% include 'asct/_nav.html' %}
<div class="row mb-3">
    <div class="col-lg-10 mb-3">
        <div class="card border-0 shadow-sm glass-card hover-shadow transition-all">
            <div class="card-body p-3">
                <div class="fw-bold text-dark">{{ sshinfo.name }}</div>
                <div class="text-success">{{ sshinfo.login_id }}@{{ sshinfo.ip }} 
                </div>
                {% if request.user.is_superuser or request.user in sshinfo.operators.all %}
                <div class="text-danger">암호 : {{ sshinfo.password }}</div>
                {% endif %}
                <span>운영자 : </span>
                {% for op in sshinfo.operators.all %}
                <span>
                    {{ op.username }}
                    {% if not forloop.last %}, {% endif %}
                </span>
                {% endfor %}
                <div class="flex-end gap-2">
                    <a href="{% url 'asct:sshinfo_list' %}{% if request.GET.page %}?page={{request.GET.page }}{% endif %}" class="btn btn-glass-secondary position-relative z-3"><i class="bi bi-arrow-left me-2"></i>List로 이동</a>
                    <a href="{% url 'asct:sshinfo_update' sshinfo.id %}" class="btn btn-glass-primary position-relative z-3">update</a>
                    <a href="{% url 'asct:sshinfo_delete' sshinfo.id %}" class="btn btn-glass-danger position-relative z-3" onclick="javascript:confirm('삭제하시게요?');">delete</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
