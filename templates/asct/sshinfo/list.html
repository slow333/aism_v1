{% extends 'base/base.html' %}
{% block title %}SSH 접속정보 리스트{% endblock %}

{% block content %}

{% include 'asct/_nav.html' %}

<div class="flex-start">
    <h1 class="fw-bold text-white">
        <i class="bi bi-journal-richtext me-3"></i>SSH 접속정보 리스트</h1>
    <a href="{% url 'asct:sshinfo_add' %}" class="btn btn-sm btn-glass-primary rounded-pill px-3 position-relative z-2 ms-3">
        <i class="bi bi-plus-circle-fill me-2"></i>Add SSH Info </a>
</div>

<div class="row mb-3">
    {% for sshinfo in page_obj %}
    <div class="col-lg-6 mb-3">
        <div class="card border-0 shadow-sm glass-card hover-shadow transition-all">
            <div class="card-body p-3">
                <div class="fw-bold text-dark">{{ sshinfo.name }}</div>
                <div class="text-success">{{ sshinfo.login_id }}@{{ sshinfo.ip }} </div>
                {% for op in sshinfo.operators.all %}
                <span>
                    {{ op.username }}
                    {% if not forloop.last %}, {% endif %}
                </span>
                {% endfor %}

                <div class="flex-end">
                    <a href="{% url 'asct:sshinfo_detail' sshinfo.id %}{% if request.GET.page %}?page={{request.GET.page }}{% endif %}" class="btn btn-sm btn-glass-primary rounded-pill px-3 position-relative z-2">
                        상세 보기 <i class="bi bi-arrow-right ms-1"></i></a>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
